

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running the PELE simulations &mdash; Saturated Mutagenesis 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The API guide" href="Api_examples.html" />
    <link rel="prev" title="The creation of yaml files for PELE platform" href="pele_files.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Saturated Mutagenesis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="manual.html">The manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="mutate_pdb.html">The generation of mutations</a></li>
<li class="toctree-l1"><a class="reference internal" href="pele_files.html">The creation of yaml files for PELE platform</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running the PELE simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Api_examples.html">The API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysing the PELE simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="rs_analysis.html">Analysing the PELE simulations that includes enantiomers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="satumut.html">satumut</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Saturated Mutagenesis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Running the PELE simulations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/simulation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-the-pele-simulations">
<h1>Running the PELE simulations<a class="headerlink" href="#running-the-pele-simulations" title="Permalink to this headline">Â¶</a></h1>
<p>This script combines the functions and classes from all the other modules to create the PDB files and the yaml files, then it creates different subprocesses, as many as the number of yaml files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -m satumut.simulation --help
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usage: simulation.py <span class="o">[</span>-h<span class="o">]</span> -i INPUT <span class="o">[</span>-p POSITION <span class="o">[</span>POSITION ...<span class="o">]]</span> -lc LIGCHAIN
                 -ln LIGNAME <span class="o">[</span>-at ATOMS <span class="o">[</span>ATOMS ...<span class="o">]]</span>
                 <span class="o">[</span>-cpm CPUS_PER_MUTANT<span class="o">]</span> <span class="o">[</span>-tcpus TOTAL_CPUS<span class="o">]</span> <span class="o">[</span>-po<span class="o">]</span>
                 <span class="o">[</span>-fa POLARIZATION_FACTOR<span class="o">]</span> <span class="o">[</span>-n<span class="o">]</span> <span class="o">[</span>-m<span class="o">]</span> <span class="o">[</span>-s SEED<span class="o">]</span> <span class="o">[</span>-d DIR<span class="o">]</span>
                 <span class="o">[</span>-pd PDB_DIR<span class="o">]</span> <span class="o">[</span>-hy<span class="o">]</span> <span class="o">[</span>-co<span class="o">]</span> <span class="o">[</span>-st STEPS<span class="o">]</span> <span class="o">[</span>--dpi DPI<span class="o">]</span>
                 <span class="o">[</span>-tr TRAJECTORY<span class="o">]</span> <span class="o">[</span>--out OUT<span class="o">]</span> <span class="o">[</span>--plot PLOT<span class="o">]</span>
                 <span class="o">[</span>-an <span class="o">{</span>energy,distance,both<span class="o">}]</span> <span class="o">[</span>--thres THRES<span class="o">]</span>
                 <span class="o">[</span>-sm SINGLE_MUTAGENESIS<span class="o">]</span> <span class="o">[</span>-PR PLURIZYME_AT_AND_RES<span class="o">]</span>
                 <span class="o">[</span>-r RADIUS<span class="o">]</span> <span class="o">[</span>-f FIXED_RESIDS <span class="o">[</span>FIXED_RESIDS ...<span class="o">]]</span> <span class="o">[</span>-re<span class="o">]</span>
                 <span class="o">[</span>-are<span class="o">]</span> <span class="o">[</span>-x<span class="o">]</span> <span class="o">[</span>-cd CATALYTIC_DISTANCE<span class="o">]</span>
                 <span class="o">[</span>-tem TEMPLATE <span class="o">[</span>TEMPLATE ...<span class="o">]]</span> <span class="o">[</span>-sk SKIP <span class="o">[</span>SKIP ...<span class="o">]]</span>
                 <span class="o">[</span>-rot ROTAMERS <span class="o">[</span>ROTAMERS ...<span class="o">]]</span> <span class="o">[</span>-e<span class="o">]</span> <span class="o">[</span>-l<span class="o">]</span>
                 <span class="o">[</span>-da DIHEDRAL_ATOMS <span class="o">[</span>DIHEDRAL_ATOMS ...<span class="o">]]</span> <span class="o">[</span>-im <span class="o">{</span>R,S<span class="o">}]</span>
                 <span class="o">[</span>-tu TURN<span class="o">]</span> <span class="o">[</span>-en ENERGY_THRESHOLD<span class="o">]</span> <span class="o">[</span>--QM QM<span class="o">]</span>
                 <span class="o">[</span>-br BOX_RADIUS<span class="o">]</span>
                 <span class="o">[</span>-mut <span class="o">{</span>ALA,CYS,GLU,ASP,GLY,PHE,ILE,HIS,LYS,MET,LEU,ASN,GLN,PRO,SER,ARG,THR,TRP,VAL,TYR<span class="o">}</span> <span class="o">[{</span>ALA,CYS,GLU,ASP,GLY,PHE,ILE,HIS,LYS,MET,LEU,ASN,GLN,PRO,SER,ARG,THR,TRP,VAL,TYR<span class="o">}</span> ...<span class="o">]]</span>
                 <span class="o">[</span>-cst <span class="o">{</span><span class="m">1</span>,2<span class="o">}]</span> <span class="o">[</span>-pw <span class="o">{</span>Binding Energy,currentEnergy<span class="o">}]</span>

Generate the mutant PDB and the corresponding running files

    optional arguments:
        -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
        -i INPUT, --input INPUT
                        Include PDB file<span class="s1">&#39;s path</span>
<span class="s1">        -p POSITION [POSITION ...], --position POSITION [POSITION ...]</span>
<span class="s1">                        Include one or more chain IDs and positions -&gt; Chain</span>
<span class="s1">                        ID:position</span>
<span class="s1">        -lc LIGCHAIN, --ligchain LIGCHAIN</span>
<span class="s1">                        Include the chain ID of the ligand</span>
<span class="s1">        -ln LIGNAME, --ligname LIGNAME</span>
<span class="s1">                    The ligand residue name</span>
<span class="s1">        -at ATOMS [ATOMS ...], --atoms ATOMS [ATOMS ...]</span>
<span class="s1">                    Series of atoms of the residues to follow in this</span>
<span class="s1">                    format -&gt; chain ID:position:atom name</span>
<span class="s1">        -cpm CPUS_PER_MUTANT, --cpus_per_mutant CPUS_PER_MUTANT</span>
<span class="s1">                    Include the number of cpus desired</span>
<span class="s1">        -tcpus TOTAL_CPUS, --total_cpus TOTAL_CPUS</span>
<span class="s1">                    Include the number of cpus desired</span>
<span class="s1">        -po, --polarize_metals</span>
<span class="s1">                    used if there are metals in the system</span>
<span class="s1">        -fa POLARIZATION_FACTOR, --polarization_factor POLARIZATION_FACTOR</span>
<span class="s1">                    The number to divide the charges</span>
<span class="s1">        -n, --nord            used if LSF is the utility managing the jobs</span>
<span class="s1">        -m, --multiple        if you want to mutate 2 residue in the same pdb</span>
<span class="s1">        -s SEED, --seed SEED  Include the seed number to make the simulation</span>
<span class="s1">                    reproducible</span>
<span class="s1">        -d DIR, --dir DIR     The name of the folder for all the simulations</span>
<span class="s1">        -pd PDB_DIR, --pdb_dir PDB_DIR</span>
<span class="s1">                    The name for the mutated pdb folder</span>
<span class="s1">        -hy, --hydrogen       leave it to default</span>
<span class="s1">        -co, --consec         Consecutively mutate the PDB file for several rounds</span>
<span class="s1">        -st STEPS, --steps STEPS</span>
<span class="s1">                    The number of PELE steps</span>
<span class="s1">        --dpi DPI             Set the quality of the plots</span>
<span class="s1">        -tr TRAJECTORY, --trajectory TRAJECTORY</span>
<span class="s1">                    Set how many PDBs are extracted from the trajectories</span>
<span class="s1">        --out OUT             Name of the summary file created at the end of the</span>
<span class="s1">                    analysis</span>
<span class="s1">        --plot PLOT           Path of the plots folder</span>
<span class="s1">        -an {energy,distance,both}, --analyse {energy,distance,both}</span>
<span class="s1">                    The metric to measure the improvement of the system</span>
<span class="s1">        --thres THRES         The threshold for the improvement which will affect</span>
<span class="s1">                    what will be included in the summary</span>
<span class="s1">        -sm SINGLE_MUTAGENESIS, --single_mutagenesis SINGLE_MUTAGENESIS</span>
<span class="s1">                    Specifiy the name of the residue that you want the</span>
<span class="s1">                    original residue to be mutated to. Both 3 letter code</span>
<span class="s1">                    and 1 letter code can be used. You can even specify</span>
<span class="s1">                    the protonated states</span>
<span class="s1">        -PR PLURIZYME_AT_AND_RES, --plurizyme_at_and_res PLURIZYME_AT_AND_RES</span>
<span class="s1">                    Specify the chain ID, residue number and the PDB atom</span>
<span class="s1">                    name thatwill set the list of the neighbouring</span>
<span class="s1">                    residues for thenext round. Example: chain</span>
<span class="s1">                    ID:position:atom name</span>
<span class="s1">        -r RADIUS, --radius RADIUS</span>
<span class="s1">                    The radius around the selected atom to search for the</span>
<span class="s1">                    other residues</span>
<span class="s1">        -f FIXED_RESIDS [FIXED_RESIDS ...], --fixed_resids FIXED_RESIDS [FIXED_RESIDS ...]</span>
<span class="s1">                    Specify the list of residues that you don&#39;</span>t wantto
                    have mutated <span class="o">(</span>Must write the list of residuenumbers<span class="o">)</span>
        -re, --restart        to place the restart flag
        -are, --adaptive_restart
                    to place the adaptive restart flag
        -x, --xtc             Change the pdb format to xtc
        -cd CATALYTIC_DISTANCE, --catalytic_distance CATALYTIC_DISTANCE
                    The distance considered to be catalytic
        -tem TEMPLATE <span class="o">[</span>TEMPLATE ...<span class="o">]</span>, --template TEMPLATE <span class="o">[</span>TEMPLATE ...<span class="o">]</span>
                    Path to external forcefield templates
        -sk SKIP <span class="o">[</span>SKIP ...<span class="o">]</span>, --skip SKIP <span class="o">[</span>SKIP ...<span class="o">]</span>
                    skip the processing of ligands by PlopRotTemp
        -rot ROTAMERS <span class="o">[</span>ROTAMERS ...<span class="o">]</span>, --rotamers ROTAMERS <span class="o">[</span>ROTAMERS ...<span class="o">]</span>
                    Path to external rotamers templates
        -e, --equilibration   Set equilibration
        -l, --log             write logs
        -da DIHEDRAL_ATOMS <span class="o">[</span>DIHEDRAL_ATOMS ...<span class="o">]</span>, --dihedral_atoms DIHEDRAL_ATOMS <span class="o">[</span>DIHEDRAL_ATOMS ...<span class="o">]</span>
                    The <span class="m">4</span> atom necessary to calculate the dihedrals in
                    format chain id:res number:atom name
        -im <span class="o">{</span>R,S<span class="o">}</span>, --improve <span class="o">{</span>R,S<span class="o">}</span>
                    The enantiomer that should improve
        -tu TURN, --turn TURN
                    the round of plurizyme generation, not needed <span class="k">for</span> the
                    1st round
        -en ENERGY_THRESHOLD, --energy_threshold ENERGY_THRESHOLD
                    The number of steps to analyse
        --QM QM               The path to the QM charges
        -br BOX_RADIUS, --box_radius BOX_RADIUS
                    Radius of the exploration box
        -mut <span class="o">{</span>ALA,CYS,GLU,ASP,GLY,PHE,ILE,HIS,LYS,MET,LEU,ASN,GLN,PRO,SER,ARG,THR,TRP,VAL,TYR<span class="o">}</span> ,
        --mutation <span class="o">{</span>ALA,CYS,GLU,ASP,GLY,PHE,ILE,HIS,LYS,MET,LEU,ASN,GLN,PRO,SER,ARG,THR,TRP,VAL,TYR<span class="o">}</span>
                    The aminoacid in <span class="m">3</span> letter code
        -cst <span class="o">{</span><span class="m">1</span>,2<span class="o">}</span>, --conservative <span class="o">{</span><span class="m">1</span>,2<span class="o">}</span>
                    How conservative should the mutations be, choises are
                    <span class="m">1</span> and <span class="m">2</span>
        -pw <span class="o">{</span>Binding Energy,currentEnergy<span class="o">}</span>, --profile_with <span class="o">{</span>Binding Energy,currentEnergy<span class="o">}</span>
                    The metric to generate the pele profiles with
</pre></div>
</div>
<div class="line-block">
<div class="line">It has all the required arguments for the classes and functions from the other modules if the flags <code class="docutils literal notranslate"><span class="pre">-sm</span></code> and <code class="docutils literal notranslate"><span class="pre">-PR</span></code> are present it runs <code class="docutils literal notranslate"><span class="pre">plurizymes_simulation</span></code> instead of <code class="docutils literal notranslate"><span class="pre">saturated_simulation</span></code>.</div>
<div class="line">An example would be:</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -m satumut.simulation --input PK2_F454T.pdb --position A:454 --ligchain L --ligname ANL --atoms C:1:CU L:1:N1 --cpus <span class="m">5</span> -po --test
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Api_examples.html" class="btn btn-neutral float-right" title="The API guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pele_files.html" class="btn btn-neutral float-left" title="The creation of yaml files for PELE platform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Ruite

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>